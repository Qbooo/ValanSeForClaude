[1mdiff --git a/src/main/java/com/valanse/valanse/service/VoteService/VoteServiceImpl.java b/src/main/java/com/valanse/valanse/service/VoteService/VoteServiceImpl.java[m
[1mindex 57a6f96..8740dcf 100644[m
[1m--- a/src/main/java/com/valanse/valanse/service/VoteService/VoteServiceImpl.java[m
[1m+++ b/src/main/java/com/valanse/valanse/service/VoteService/VoteServiceImpl.java[m
[36m@@ -2,17 +2,14 @@[m [mpackage com.valanse.valanse.service.VoteService;[m
 [m
 import com.valanse.valanse.common.api.ApiException;[m
 import com.valanse.valanse.domain.*;[m
[32m+[m[32mimport com.valanse.valanse.domain.enums.PinType;[m
[32m+[m[32mimport com.valanse.valanse.domain.enums.Role;[m
 import com.valanse.valanse.domain.enums.VoteCategory;[m
 import com.valanse.valanse.domain.enums.VoteLabel;[m
 import com.valanse.valanse.domain.mapping.MemberVoteOption;[m
 import com.valanse.valanse.dto.Vote.*;[m
 import com.valanse.valanse.repository.*;[m
[31m-import io.swagger.v3.oas.annotations.Operation;[m
 import lombok.RequiredArgsConstructor;[m
[31m-import org.springframework.data.domain.Page;[m
[31m-import org.springframework.data.domain.PageRequest;[m
[31m-import org.springframework.data.domain.Pageable;[m
[31m-import org.springframework.data.domain.Sort;[m
 import org.springframework.http.HttpStatus;[m
 import org.springframework.security.core.context.SecurityContextHolder;[m
 import org.springframework.stereotype.Service;[m
[36m@@ -25,7 +22,7 @@[m [mimport java.util.stream.Collectors; // ê¸°ì¡´ ì½”ë“œì— ìˆì—ˆìœ¼ë¯€ë¡œ ìœ ì§€[m
 [m
 @Service[m
 @RequiredArgsConstructor[m
[31m-@Transactional // í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì„¤ì •[m
[32m+[m[32m@Transactional(readOnly = true) // í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì„¤ì •[m
 public class VoteServiceImpl implements VoteService {[m
 [m
     private final VoteRepository voteRepository;[m
[36m@@ -88,7 +85,15 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
 [m
     //ì—¬ê¸°ì„œë¶€í„° ì˜ì„œ ì½”ë“œ[m
     @Override[m
[32m+[m[32m    @Transactional[m
     public HotIssueVoteResponse getHotIssueVote() { // íŒŒë¼ë¯¸í„° ì—†ìŒ[m
[32m+[m[32m        // 0. ê³ ì • ê²Œì‹œë¬¼ì´ ìˆë‹¤ë©´ ë°˜í™˜.[m
[32m+[m[32m        Optional<Vote> pinnedHot = voteRepository.findByPinType(PinType.HOT);[m
[32m+[m[32m        if (pinnedHot.isPresent()) {[m
[32m+[m[32m            Vote hotIssueVote = pinnedHot.get();[m
[32m+[m[32m            return getHotIssueVoteResponse(hotIssueVote);[m
[32m+[m[32m        }[m
[32m+[m
         // ìˆ˜ì •: ì‘ì¼ ë°˜ì‘ì„± ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½[m
         LocalDateTime now = LocalDateTime.now();[m
         LocalDateTime yesterdayStart = now.minusDays(1).withHour(0).withMinute(0).withSecond(0);[m
[36m@@ -115,45 +120,23 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
         }[m
 [m
         // 3. íˆ¬í‘œ ìƒì„±ì ì •ë³´ ì¡°íšŒ (ë‹‰ë„¤ì„) - ê¸°ì¡´ ë¡œì§ ìœ ì§€[m
[31m-        String createdByNickname = "ìµëª…"; // ê¸°ë³¸ê°’ ì„¤ì •[m
[31m-        if (hotIssueVote.getMember() != null) { // Memberê°€ nullì´ ì•„ë‹Œ ê²½ìš°[m
[31m-            Member creatorMember = hotIssueVote.getMember(); // ìƒì„±ì Member ê°ì²´ ê°€ì ¸ì˜¤ê¸°[m
[31m-            MemberProfile profile = memberProfileRepository.findByMemberId(creatorMember.getId()).orElse(null); // MemberProfile ì¡°íšŒ[m
[31m-            if (profile != null && profile.getNickname() != null) { // í”„ë¡œí•„ì´ ìˆê³  ë‹‰ë„¤ì„ì´ ìˆëŠ” ê²½ìš°[m
[31m-                createdByNickname = profile.getNickname(); // ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-            } else {[m
[31m-                // MemberProfileì´ ì—†ê±°ë‚˜ ë‹‰ë„¤ì„ì´ ì—†ëŠ” ê²½ìš°, Memberì˜ ê¸°ë³¸ ì´ë¦„ ì‚¬ìš© (ì¹´ì¹´ì˜¤ ì´ë¦„ ë“±)[m
[31m-                if (creatorMember.getName() != null) { // Memberì˜ ì´ë¦„ì´ ìˆëŠ” ê²½ìš°[m
[31m-                    createdByNickname = creatorMember.getName(); // ì´ë¦„ìœ¼ë¡œ ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-                }[m
[31m-            }[m
[31m-        }[m
[31m-[m
[31m-        // 4. íˆ¬í‘œ ì˜µì…˜ ì •ë³´ DTOë¡œ ë³€í™˜[m
[31m-        List<HotIssueVoteOptionDto> options = hotIssueVote.getVoteOptions().stream()[m
[31m-                .map(option -> HotIssueVoteOptionDto.builder() // HotIssueVoteOptionDto ë¹Œë” ì‚¬ìš©[m
[31m-                        .optionId(option.getId())  //option IDë„£ê¸°[m
[31m-                        .content(option.getContent()) // ì˜µì…˜ ë‚´ìš© ì„¤ì •[m
[31m-                        .vote_count(option.getVoteCount()) // íˆ¬í‘œ ìˆ˜ ì„¤ì •[m
[31m-                        .build())[m
[31m-                .collect(Collectors.toList()); // ë¦¬ìŠ¤íŠ¸ë¡œ ìˆ˜ì§‘[m
[31m-[m
[31m-        // 5. HotIssueVoteResponse DTO ìƒì„± ë° ë°˜í™˜[m
[31m-        return HotIssueVoteResponse.builder()[m
[31m-                .voteId(hotIssueVote.getId()) // íˆ¬í‘œ ID ì„¤ì •[m
[31m-                .title(hotIssueVote.getTitle()) // ì œëª© ì„¤ì •[m
[31m-                .content(hotIssueVote.getContent())[m
[31m-                .category(hotIssueVote.getCategory() != null ? hotIssueVote.getCategory().name() : null) // ì¹´í…Œê³ ë¦¬ ì„¤ì •[m
[31m-                .totalParticipants(hotIssueVote.getTotalVoteCount()) // ì´ ì°¸ì—¬ì ìˆ˜ ì„¤ì •[m
[31m-                .createdBy(createdByNickname) // ìƒì„±ì ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-                .createdAt(hotIssueVote.getCreatedAt()) // ì¶”ê°€ëœ ë¶€ë¶„: createdAt ì„¤ì •[m
[31m-                .options(options) // ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ì„¤ì •[m
[31m-                .build();[m
[32m+[m[32m        return getHotIssueVoteResponse(hotIssueVote);[m
     }[m
 [m
     // ì¸ê¸° ê¸‰ìƒìŠ¹ í† í”½[m
     @Override[m
[32m+[m[32m    @Transactional[m
     public HotIssueVoteResponse getTrendingVote() {[m
[32m+[m[32m       // 0. ê³ ì • ê²Œì‹œë¬¼ì´ ìˆë‹¤ë©´ ë°˜í™˜.[m
[32m+[m[32m        Optional<Vote> pinnedTrending = voteRepository.findByPinType(PinType.TRENDING);[m
[32m+[m[32m        if (pinnedTrending.isPresent()) {[m
[32m+[m
[32m+[m[32m            Vote trendingVote = pinnedTrending.get();[m
[32m+[m
[32m+[m[32m            return getHotIssueVoteResponse(trendingVote);[m
[32m+[m
[32m+[m[32m        }[m
[32m+[m
        // 7ì¼ ì´ì „ ì‹œê°„ ê³„ì‚°[m
        LocalDateTime sevenDaysAgo = LocalDateTime.now().minusDays(7);[m
 [m
[36m@@ -179,40 +162,7 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
         }[m
 [m
         // 3. íˆ¬í‘œ ìƒì„±ì ì •ë³´ ì¡°íšŒ (ë‹‰ë„¤ì„) - ê¸°ì¡´ ë¡œì§ ìœ ì§€[m
[31m-        String createdByNickname = "ìµëª…"; // ê¸°ë³¸ê°’ ì„¤ì •[m
[31m-        if (trendingVote.getMember() != null) { // Memberê°€ nullì´ ì•„ë‹Œ ê²½ìš°[m
[31m-            Member creatorMember = trendingVote.getMember(); // ìƒì„±ì Member ê°ì²´ ê°€ì ¸ì˜¤ê¸°[m
[31m-            MemberProfile profile = memberProfileRepository.findByMemberId(creatorMember.getId()).orElse(null); // MemberProfile ì¡°íšŒ[m
[31m-            if (profile != null && profile.getNickname() != null) { // í”„ë¡œí•„ì´ ìˆê³  ë‹‰ë„¤ì„ì´ ìˆëŠ” ê²½ìš°[m
[31m-                createdByNickname = profile.getNickname(); // ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-            } else {[m
[31m-                // MemberProfileì´ ì—†ê±°ë‚˜ ë‹‰ë„¤ì„ì´ ì—†ëŠ” ê²½ìš°, Memberì˜ ê¸°ë³¸ ì´ë¦„ ì‚¬ìš© (ì¹´ì¹´ì˜¤ ì´ë¦„ ë“±)[m
[31m-                if (creatorMember.getName() != null) { // Memberì˜ ì´ë¦„ì´ ìˆëŠ” ê²½ìš°[m
[31m-                    createdByNickname = creatorMember.getName(); // ì´ë¦„ìœ¼ë¡œ ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-                }[m
[31m-            }[m
[31m-        }[m
[31m-[m
[31m-        // 4. íˆ¬í‘œ ì˜µì…˜ ì •ë³´ DTOë¡œ ë³€í™˜[m
[31m-        List<HotIssueVoteOptionDto> options = trendingVote.getVoteOptions().stream()[m
[31m-                .map(option -> HotIssueVoteOptionDto.builder() // HotIssueVoteOptionDto ë¹Œë” ì‚¬ìš©[m
[31m-                        .optionId(option.getId())  //option IDë„£ê¸°[m
[31m-                        .content(option.getContent()) // ì˜µì…˜ ë‚´ìš© ì„¤ì •[m
[31m-                        .vote_count(option.getVoteCount()) // íˆ¬í‘œ ìˆ˜ ì„¤ì •[m
[31m-                        .build())[m
[31m-                .collect(Collectors.toList()); // ë¦¬ìŠ¤íŠ¸ë¡œ ìˆ˜ì§‘[m
[31m-[m
[31m-        // 5. HotIssueVoteResponse DTO ìƒì„± ë° ë°˜í™˜[m
[31m-        return HotIssueVoteResponse.builder()[m
[31m-                .voteId(trendingVote.getId()) // íˆ¬í‘œ ID ì„¤ì •[m
[31m-                .title(trendingVote.getTitle()) // ì œëª© ì„¤ì •[m
[31m-                .content(trendingVote.getContent())[m
[31m-                .category(trendingVote.getCategory() != null ? trendingVote.getCategory().name() : null) // ì¹´í…Œê³ ë¦¬ ì„¤ì •[m
[31m-                .totalParticipants(trendingVote.getTotalVoteCount()) // ì´ ì°¸ì—¬ì ìˆ˜ ì„¤ì •[m
[31m-                .createdBy(createdByNickname) // ìƒì„±ì ë‹‰ë„¤ì„ ì„¤ì •[m
[31m-                .createdAt(trendingVote.getCreatedAt()) // ì¶”ê°€ëœ ë¶€ë¶„: createdAt ì„¤ì •[m
[31m-                .options(options) // ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ì„¤ì •[m
[31m-                .build();[m
[32m+[m[32m        return getHotIssueVoteResponse(trendingVote);[m
 [m
     }[m
 [m
[36m@@ -387,6 +337,7 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
 [m
 [m
     @Override[m
[32m+[m[32m    @Transactional[m
     public Long createVote(Long userId, VoteCreateRequest request) {[m
         // 1. íšŒì› ê²€ì¦[m
         Member member = memberRepository.findByIdAndDeletedAtIsNull(userId)[m
[36m@@ -405,6 +356,7 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
                 .content(request.getContent())[m
                 .category(request.getCategory())[m
                 .member(member)[m
[32m+[m[32m                .pinType(PinType.NONE)[m
                 .build();[m
 [m
         // 3. íˆ¬í‘œ ì˜µì…˜ ìƒì„± ë° ì¶”ê°€ (ìµœëŒ€ 4ê°œ ì˜µì…˜ ì œí•œ)[m
[36m@@ -438,7 +390,7 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
     }[m
 [m
     @Override[m
[31m-    public VoteListResponse getVotesByCategoryAndSort(String category, String sort, String cursor, int size) {[m
[32m+[m[32m    public VoteListResponse getVotesByCategoryAndSort(Member loginUser, String category, String sort, String cursor, int size) {[m
         List<Vote> votes = voteRepository.findVotesByCursor(category, sort, cursor, size);[m
 [m
         boolean hasNext = votes.size() > size;[m
[36m@@ -475,6 +427,11 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
                         totalCommentCount = vote.getCommentGroup().getTotalCommentCount();[m
                     }[m
 [m
[32m+[m[32m                    boolean isAdmin = loginUser != null && loginUser.getRole() == Role.ADMIN;[m
[32m+[m[32m                    boolean canDelete = false;[m
[32m+[m[32m                    if (loginUser != null && vote.getMember() != null) {[m
[32m+[m[32m                        canDelete = isAdmin || vote.getMember().getId().equals(loginUser.getId());[m
[32m+[m[32m                    }[m
                     return VoteListResponse.VoteDto.builder()[m
                             .id(vote.getId())[m
                             .title(vote.getTitle())[m
[36m@@ -485,6 +442,7 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
                             .total_vote_count(vote.getTotalVoteCount())[m
                             .total_comment_count(totalCommentCount)[m
                             .options(optionListDtos)[m
[32m+[m[32m                            .canDelete(canDelete)[m
                             .build();[m
                 })[m
                 .collect(Collectors.toList());[m
[36m@@ -502,8 +460,11 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
         Vote vote = voteRepository.findById(voteId)[m
                 .orElseThrow(() -> new ApiException("íˆ¬í‘œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", HttpStatus.NOT_FOUND));[m
 [m
[31m-        // ê¶Œí•œ í™•ì¸[m
[31m-        if (!vote.getMember().getId().equals(userId)) {[m
[32m+[m[32m        Member member = memberRepository.findByIdAndDeletedAtIsNull(userId)[m
[32m+[m[32m                .orElseThrow(() -> new ApiException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", HttpStatus.NOT_FOUND));[m
[32m+[m
[32m+[m[32m        // ê¶Œí•œ í™•ì¸ - ìê¸° ìì‹  í˜¹ì€ ê´€ë¦¬ì[m
[32m+[m[32m        if (!vote.getMember().getId().equals(userId) && member.getRole() != Role.ADMIN) {[m
             throw new ApiException("ì‚­ì œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.", HttpStatus.FORBIDDEN);[m
         }[m
 [m
[36m@@ -511,4 +472,67 @@[m [mpublic class VoteServiceImpl implements VoteService {[m
         vote.softDelete();[m
         voteRepository.save(vote);[m
     }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    @Transactional[m
[32m+[m[32m    // ê³ ì • , ê³ ì • í•´ì œ ê¸°ëŠ¥ì€ vote ì—”í‹°í‹°ì— ë©”ì„œë“œë¡œ ì¡´ì¬[m
[32m+[m[32m    public void updatePinStatus(Member member, Long voteId, PinType pinType) {[m
[32m+[m[32m        if (member.getRole() != Role.ADMIN) {[m
[32m+[m[32m            throw new ApiException("ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.", HttpStatus.FORBIDDEN);[m
[32m+[m[32m        }[m
[32m+[m[32m        Vote vote = voteRepository.findById(voteId)[m
[32m+[m[32m                .orElseThrow(() -> new ApiException("ê²Œì‹œë¬¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", HttpStatus.NOT_FOUND));[m
[32m+[m[32m        if (pinType != PinType.NONE) {[m
[32m+[m[32m            // ì´ë¯¸ ê³ ì •ëœ ë‹¤ë¥¸ ê²Œì‹œë¬¼ì´ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ ê²Œì‹œë¬¼ì˜ ê³ ì • í•´ì œ[m
[32m+[m[32m            voteRepository.findByPinType(pinType).ifPresent(existing ->[m
[32m+[m[32m                    {if (!existing.getId().equals(voteId))[m
[32m+[m[32m                    {[m
[32m+[m[32m                        existing.unpin();[m
[32m+[m[32m                        voteRepository.save(existing);[m
[32m+[m[32m                    }});[m
[32m+[m[32m            vote.pin(pinType);[m
[32m+[m[32m        }[m
[32m+[m[32m        else {[m
[32m+[m[32m            vote.unpin();[m
[32m+[m[32m        }[m
[32m+[m[32m        voteRepository.save(vote);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // í•«ì´ìŠˆ ë°œëŸ°ìŠ¤ ê²Œì„ì„ ë½‘ì•„ë‚´ëŠ” ë©”ì„œë“œ[m
[32m+[m[32m    private HotIssueVoteResponse getHotIssueVoteResponse(Vote hotIssueVote) {[m
[32m+[m[32m        String createdByNickname = "ìµëª…"; // ê¸°ë³¸ê°’ ì„¤ì •[m
[32m+[m[32m        if (hotIssueVote.getMember() != null) { // Memberê°€ nullì´ ì•„ë‹Œ ê²½ìš°[m
[32m+[m[32m            Member creatorMember = hotIssueVote.getMember(); // ìƒì„±ì Member ê°ì²´ ê°€ì ¸ì˜¤ê¸°[m
[32m+[m[32m            MemberProfile profile = memberProfileRepository.findByMemberId(creatorMember.getId()).orElse(null); // MemberProfile ì¡°íšŒ[m
[32m+[m[32m            if (profile != null && profile.getNickname() != null) { // í”„ë¡œí•„ì´ ìˆê³  ë‹‰ë„¤ì„ì´ ìˆëŠ” ê²½ìš°[m
[32m+[m[32m                createdByNickname = profile.getNickname(); // ë‹‰ë„¤ì„ ì„¤ì •[m
[32m+[m[32m            } else {[m
[32m+[m[32m                // MemberProfileì´ ì—†ê±°ë‚˜ ë‹‰ë„¤ì„ì´ ì—†ëŠ” ê²½ìš°, Memberì˜ ê¸°ë³¸ ì´ë¦„ ì‚¬ìš© (ì¹´ì¹´ì˜¤ ì´ë¦„ ë“±)[m
[32m+[m[32m                if (creatorMember.getName() != null) { // Memberì˜ ì´ë¦„ì´ ìˆëŠ” ê²½ìš°[m
[32m+[m[32m                    createdByNickname = creatorMember.getName(); // ì´ë¦„ìœ¼ë¡œ ë‹‰ë„¤ì„ ì„¤ì •[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        List<HotIssueVoteOptionDto> options = hotIssueVote.getVoteOptions().stream()[m
[32m+[m[32m                .map(option -> HotIssueVoteOptionDto.builder() // HotIssueVoteOptionDto ë¹Œë” ì‚¬ìš©[m
[32m+[m[32m                        .optionId(option.getId())  //option IDë„£ê¸°[m
[32m+[m[32m                        .content(option.getContent()) // ì˜µì…˜ ë‚´ìš© ì„¤ì •[m
[32m+[m[32m                        .vote_count(option.getVoteCount()) // íˆ¬í‘œ ìˆ˜ ì„¤ì •[m
[32m+[m[32m                        .build())[m
[32m+[m[32m                .collect(Collectors.toList()); // ë¦¬ìŠ¤íŠ¸ë¡œ ìˆ˜ì§‘[m
[32m+[m
[32m+[m[32m        return HotIssueVoteResponse.builder()[m
[32m+[m[32m                .voteId(hotIssueVote.getId()) // íˆ¬í‘œ ID ì„¤ì •[m
[32m+[m[32m                .title(hotIssueVote.getTitle()) // ì œëª© ì„¤ì •[m
[32m+[m[32m                .content(hotIssueVote.getContent())[m
[32m+[m[32m                .category(hotIssueVote.getCategory() != null ? hotIssueVote.getCategory().name() : null) // ì¹´í…Œê³ ë¦¬ ì„¤ì •[m
[32m+[m[32m                .totalParticipants(hotIssueVote.getTotalVoteCount()) // ì´ ì°¸ì—¬ì ìˆ˜ ì„¤ì •[m
[32m+[m[32m                .createdBy(createdByNickname) // ìƒì„±ì ë‹‰ë„¤ì„ ì„¤ì •[m
[32m+[m[32m                .createdAt(hotIssueVote.getCreatedAt()) // ì¶”ê°€ëœ ë¶€ë¶„: createdAt ì„¤ì •[m
[32m+[m[32m                .pinType(hotIssueVote.getPinType())[m
[32m+[m[32m                .options(options) // ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ì„¤ì •[m
[32m+[m[32m                .build();[m
[32m+[m[32m    }[m
[32m+[m
 }[m
